<head>
 <link href="pantheios.css" rel="stylesheet" type="text/css">
<!--
 <title>Pantheios - The C++ Diagnostic Logging Sweetspot</title>
-->
</head>

<table width = "100%">
 <tr>
  <td align = "left" valign = "middle">
   <a href = "http://www.synesis.com.au/"><img src = "syn_head.jpg" border = "0" width = "343" height = "50" alt = "Synesis Software" /></a>
  </td>
  <td align = "right" valign = "middle">
   <a href = "http://stlsoft.org"><img src = "stlsoft200x100.jpg" border = "0" width = "100" height = "50" alt = "STLSoft - ... Robust, Lightweight, Cross-platform, Template Software ..." /></a>
  </td>
 </tr>
 <tr>
  <td width = "100%" colspan = "2">
   <hr width = "100%">
  </td>
 </tr>
</table>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacepantheios.html">pantheios</a>      </li>
      <li><a class="el" href="namespacepantheios_1_1util.html">util</a>      </li>
      <li><b>backends</b>      </li>
      <li><a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html">Context</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Context Class Reference<br/>
<small>
[<a class="el" href="group__group____utility____backend.html">Back-end Utility Components</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="pantheios::util::backends::Context" -->
<p>Framework class for assisting in the writing of <a class="el" href="group__group____backend.html">Back-ends</a>.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="context_8hpp_source.html">pantheios/util/backends/context.hpp</a>&gt;</code></p>

<p><a href="classpantheios_1_1util_1_1backends_1_1Context-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Member Types</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f8f7a5b2f307eeb0fc6f1ade9026682"></a><!-- doxytag: member="pantheios::util::backends::Context::class_type" ref="a1f8f7a5b2f307eeb0fc6f1ade9026682" args="" -->
typedef <a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html">Context</a>&#160;</td><td class="memItemRight" valign="bottom"><b>class_type</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Operations</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html#a809ec5b82c47ce92eaffd5aafd8b4ea2">logEntry</a> (int severity, <a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> const *entry, size_t cchEntry)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Accessors</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html#aed9dfb7bff3fdbad32ab5d00953582d2">getProcessIdentity</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The process identity.  <a href="#aed9dfb7bff3fdbad32ab5d00953582d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a558bedcbb52dd54d87ee493159dc4283"></a><!-- doxytag: member="pantheios::util::backends::Context::getBackEndId" ref="a558bedcbb52dd54d87ee493159dc4283" args="() const " -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>getBackEndId</b> () const </td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Member Constants</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>rawLogArrayDimension</b> =  10
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Construction</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html#a78a0bb057c7f09b97e2d0cfbfe4b5244">Context</a> (<a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> const *processIdentity, int id, <a class="el" href="namespacepantheios.html#a666d419dcdbf5bafa64ad15700d973fa">pan_uint32_t</a> flags, int severityMask)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an instance.  <a href="#a78a0bb057c7f09b97e2d0cfbfe4b5244"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3011883c9723bebcb3c6b8eedf778170"></a><!-- doxytag: member="pantheios::util::backends::Context::~Context" ref="a3011883c9723bebcb3c6b8eedf778170" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~Context</b> ()  throw ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Utilities</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html#ad6bfc0471a6b9f5ea1de49a60187deb2">concatenateSlices</a> (<a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> *dest, size_t cchDest, size_t numSlices, <a class="el" href="structpantheios_1_1pan__slice__t.html">pan_slice_t</a> const *slices)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Concatenates the slices into the given destination.  <a href="#ad6bfc0471a6b9f5ea1de49a60187deb2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Member Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a088bbcc4717c66ee784d21ddec35a861"></a><!-- doxytag: member="pantheios::util::backends::Context::m_processIdentity" ref="a088bbcc4717c66ee784d21ddec35a861" args="" -->
<a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> *const&#160;</td><td class="memItemRight" valign="bottom"><b>m_processIdentity</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71ccf235ac0509e74d45ef4f91160c45"></a><!-- doxytag: member="pantheios::util::backends::Context::m_id" ref="a71ccf235ac0509e74d45ef4f91160c45" args="" -->
int const&#160;</td><td class="memItemRight" valign="bottom"><b>m_id</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49d7e520d419facee1233f8c6327aa9b"></a><!-- doxytag: member="pantheios::util::backends::Context::m_flags" ref="a49d7e520d419facee1233f8c6327aa9b" args="" -->
<a class="el" href="namespacepantheios.html#a666d419dcdbf5bafa64ad15700d973fa">pan_uint32_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><b>m_flags</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab02d308a18cb9d117f4d780dbc50ebd6"></a><!-- doxytag: member="pantheios::util::backends::Context::m_severityMask" ref="ab02d308a18cb9d117f4d780dbc50ebd6" args="" -->
int const&#160;</td><td class="memItemRight" valign="bottom"><b>m_severityMask</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Framework class for assisting in the writing of <a class="el" href="group__group____backend.html">Back-ends</a>. </p>
<p>To use <a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html" title="Framework class for assisting in the writing of Back-ends.">pantheios::util::backends::Context</a>, you derive from it, and override the rawLogEntry() method, as in the implementation of be.speech: </p>
<pre>
struct be_speech_context
    : public <a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html" title="Framework class for assisting in the writing of Back-ends.">pantheios::util::backends::Context</a>
{
public: // Member Types
  typedef <a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html" title="Framework class for assisting in the writing of Back-ends.">pantheios::util::backends::Context</a>  parent_class_type;
  typedef be_speech_context                   class_type;
  typedef std::string                         string_type;
  typedef stlsoft::ref_ptr&lt;ISpVoice&gt;          voice_type;</pre><pre>public: // Construction
  be_speech_context(pan_char_t const* processIdentity, int id, pantheios::uint32_t flags, voice_type voice);
  ~be_speech_context() throw();</pre><pre>private: // Overrides
  virtual int rawLogEntry(int severity, const <a class="el" href="structpantheios_1_1pan__slice__t.html" title="String slice used by the Pantheios Application Layer API to communicate with the Pantheios Core API...">pan_slice_t</a> (&amp;ar)[rawLogArrayDimension], size_t cchTotal);</pre><pre>  . . .
};
</pre><p>An instance of the derived class is created in the back-end initialisation function, and destroyed in the uninitialisation function, each of which are called a maximum of one time per program execution.</p>
<p>Finally, in the implementation of the back-end's log entry function, the <a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html#a809ec5b82c47ce92eaffd5aafd8b4ea2">logEntry()</a> method is called, as in: </p>
<pre>
static int pantheios_be_speech_logEntry(  void*             // feToken
                                        , void*             beToken
                                        , int               severity
                                        , pan_char_t const* entry
                                        , size_t            cchEntry)
{
  PANTHEIOS_CONTRACT_ENFORCE_PRECONDITION_PARAMS_API(NULL != beToken, "back-end token may not be null");</pre><pre>  be_speech_context* ctxt = static_cast&lt;be_speech_context*&gt;(beToken);</pre><pre>  return ctxt-&gt;logEntry(severity, entry, cchEntry);
}
</pre> <hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a78a0bb057c7f09b97e2d0cfbfe4b5244"></a><!-- doxytag: member="pantheios::util::backends::Context::Context" ref="a78a0bb057c7f09b97e2d0cfbfe4b5244" args="(pan_char_t const *processIdentity, int id, pan_uint32_t flags, int severityMask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpantheios_1_1util_1_1backends_1_1Context.html">Context</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> const *&#160;</td>
          <td class="paramname"> <em>processIdentity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacepantheios.html#a666d419dcdbf5bafa64ad15700d973fa">pan_uint32_t</a>&#160;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>severityMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs an instance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">processIdentity</td><td>The process identity. May not be NULL or empty </td></tr>
    <tr><td class="paramname">id</td><td>The back-end identifier </td></tr>
    <tr><td class="paramname">flags</td><td>Flags that control the elements presented in the log statements </td></tr>
    <tr><td class="paramname">severityMask</td><td>Mask that prescribes the valid range of the severity for the derived class. Must be either 0x07 or 0x0f </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad6bfc0471a6b9f5ea1de49a60187deb2"></a><!-- doxytag: member="pantheios::util::backends::Context::concatenateSlices" ref="ad6bfc0471a6b9f5ea1de49a60187deb2" args="(pan_char_t *dest, size_t cchDest, size_t numSlices, pan_slice_t const *slices)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static size_t concatenateSlices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> *&#160;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>cchDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>numSlices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpantheios_1_1pan__slice__t.html">pan_slice_t</a> const *&#160;</td>
          <td class="paramname"> <em>slices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Concatenates the slices into the given destination. </p>

</div>
</div>
<a class="anchor" id="aed9dfb7bff3fdbad32ab5d00953582d2"></a><!-- doxytag: member="pantheios::util::backends::Context::getProcessIdentity" ref="aed9dfb7bff3fdbad32ab5d00953582d2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> const* getProcessIdentity </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The process identity. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>In builds where exceptions are not enabled, or with compilers that do not throw std::bad_alloc on allocation failure, this will return NULL to indicate that construction has failed </dd></dl>

</div>
</div>
<a class="anchor" id="a809ec5b82c47ce92eaffd5aafd8b4ea2"></a><!-- doxytag: member="pantheios::util::backends::Context::logEntry" ref="a809ec5b82c47ce92eaffd5aafd8b4ea2" args="(int severity, pan_char_t const *entry, size_t cchEntry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int logEntry </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacepantheios.html#adbce7217fcbe56576e3d5378a14a1f9b">pan_char_t</a> const *&#160;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>cchEntry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="note"><dt><b>Note:</b></dt><dd>This method does not mutate any member data. It is not marked <code>const</code> solely because it invokes rawLogEntry(), which may need to mutate member data of the derived class (though this will not be the dominant form).</dd>
<dd>
Because the method does not, in and of itself, mutate data, backends using the class may only need to lock if the underlying transmission medium requires it, and this may only need to be inside the call to rawLogEntry(), on a back-end-specific basis. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pantheios/util/backends/<a class="el" href="context_8hpp_source.html">context.hpp</a></li>
</ul>
</div>
<table width = "100%">
 <tr>
  <td width = "100%" colspan = "2">
   <hr width = "100%">
  </td>
 </tr>
 <tr>
  <td align = "center" valign = "middle">
   <font size = "-1">
    <a href = "http://pantheios.org/"><b>pantheios</b></a>
    Library documentation 
    © Matthew Wilson &amp;
    <a href="http://www.synesis.com.au">Synesis Software</a>,
    2006-2015
   </font>
  </td>
  <td align = "center" valign = "middle">
   <a href="http://sourceforge.net">
    <img src="http://sourceforge.net/sflogo.php?group_id=141831&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Logo" />
   </a>
  </td>
 </tr>
</table>
